profile_PATH="$default_PATH"

pathspec()
{
	if test -d "$1" ; then
		case "$profile_PATH" in
		"*:$1:*|*:$1|$1:*")
			return
			;;
		"")
			debug "paths" "Creating empty \${PATH} with '%s'" "$1"
			profile_PATH="$1"
			;;
		*)
			debug "paths" "Appending '%s' to \${PATH}" "$1"
			profile_PATH="$profile_PATH:$1"
			;;
		esac
	fi
}

pathspec_prepend()
{
	if test -d "$1" ; then
		case "$profile_PATH" in
		"*:$1:*|*:$1|$1:*")
			return
			;;
		"")
			debug "paths" "Creating empty \${PATH} with '%s'" "$1"
			profile_PATH="$1"
			;;
		*)
			debug "paths" "Prepending '%s' to \${PATH}" "$1"
			profile_PATH="$1:$profile_PATH"
			;;
		esac
	fi
}

pathspec_default()
{
	profile_PATH="$default_PATH"
}

pathspec_reset()
{
	profile_path=""
}

init_paths()
{
	case "$1" in
		no|off|false|0)
			return 0
			;;
		default)
			PATH="$default_PATH"
			;;
		yes|on|true|1)
			PATH="$profile_PATH"
			;;
		auto|"")
			if [ $is_login -eq 1 ] ; then
				PATH="$profile_PATH"
			fi
			;;
		*)
			echo "Usage: path_mode=[ auto | on | off | default ]" >&2
			
	esac
	export PATH
}

## Add default pathspecs which can be overidden in .profile.rc
## Note that these are only added to PATH if they exist

pathspec "$HOME/Tools/${NODENAME}"
pathspec "$HOME/Tools/${SYSTYPE}"
pathspec "$HOME/Tools"
pathspec "$HOME/bin"
pathspec /Library/OpenSC/bin
pathspec /Applications/Utilities/Keybase.app/Contents/SharedSupport/bin
pathspec /Volumes/iDisk/Tools
pathspec /Network/Tools
pathspec /sbin
pathspec /usr/sbin
pathspec /usr/local/bin

if test -d /opt ; then
	for i in /opt/* ; do
		pathspec "$i/bin"
	done
fi

pathspec /usr/gnu/bin
pathspec /usr/local/git/bin
pathspec /usr/local/mysql/bin
pathspec /Network/Library/PostgreSQL/Current/bin
pathspec /Library/PostgreSQL/Current/bin
pathspec /Applications/Utilities/Docker.app/Contents/Resources/bin
pathspec /Applications/Utilities/CMake.app/Contents/bin
pathspec /Library/Frameworks/Python.framework/Versions/3.6/bin
pathspec /Library/Frameworks/Python.framework/Versions/2.7/bin
pathspec /Library/Frameworks/Mono.framework/Versions/Current/Commands
pathspec /Applications/MacDown.app/Contents/SharedSupport/bin

